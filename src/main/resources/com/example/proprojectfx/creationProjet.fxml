<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import java.lang.String?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="750.0" prefWidth="1200.0" style="-fx-background-color: #f5f5f5;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.proprojectfx.controller.projetController">
    <children>
        <!-- l entet -->
        <AnchorPane prefHeight="100.0" prefWidth="1200.0" style="-fx-background-color: linear-gradient(to right, #2778e4, #1a5bb8);">
            <children>
                <Text fill="WHITE" layoutX="50.0" layoutY="60.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Gestion des Projets">
                    <font>
                        <Font name="System Bold" size="32.0" />
                    </font>
                </Text>
                <Button fx:id="backButton" onAction="#handleBack" layoutX="1050.0" layoutY="35.0" prefHeight="35.0" prefWidth="120.0" style="-fx-background-color: white; -fx-text-fill: #2778e4; -fx-font-weight: bold; -fx-cursor: hand;" text="â† Retour" />
            </children>
        </AnchorPane>

        <!-- contenu principal -->
        <HBox layoutX="30.0" layoutY="120.0" prefWidth="1140.0" spacing="30.0">
            <children>
                <!-- partie formulaire de creation -->
                <VBox spacing="20.0" prefWidth="520.0" style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 12, 0, 0, 3);">
                    <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                    </padding>
                    <children>
                        <!-- titre du formulaire -->
                        <Text strokeType="OUTSIDE" strokeWidth="0.0" text="CrÃ©er un Nouveau Projet">
                            <font>
                                <Font name="System Bold" size="24.0" />
                            </font>
                        </Text>

                        <!-- champ titre du projet -->
                        <VBox spacing="8.0">
                            <children>
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Titre du Projet *" />
                                <TextField fx:id="projectTitleField" promptText="Entrez le titre du projet" style="-fx-pref-height: 40px; -fx-font-size: 14px;" />
                            </children>
                        </VBox>

                        <!-- champ informations -->
                        <VBox spacing="8.0">
                            <children>
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Informations / Description *" />
                                <TextArea fx:id="projectInfoArea" prefHeight="100.0" promptText="DÃ©crivez le projet..." style="-fx-font-size: 14px;" wrapText="true" />
                            </children>
                        </VBox>

                        <!-- champ chef de projet -->
                        <VBox spacing="8.0">
                            <children>
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Chef de Projet *" />
                                <ComboBox fx:id="chefProjetComboBox" prefHeight="40.0" prefWidth="460.0" promptText="SÃ©lectionnez le chef de projet" style="-fx-font-size: 14px;">
                                    <items>
                                        <javafx.collections.FXCollections fx:factory="observableArrayList">
                                            <String fx:value="Marie Laurent" />
                                            <String fx:value="Thomas Dubois" />
                                            <String fx:value="Sophie Martin" />
                                            <String fx:value="Lucas Bernard" />
                                        </javafx.collections.FXCollections>
                                    </items>
                                </ComboBox>
                            </children>
                        </VBox>

                        <!-- Champ de l'equipe -->
                        <VBox spacing="8.0">
                            <children>
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="Type d'Ã‰quipe *" />
                                <ComboBox fx:id="equipeComboBox" prefHeight="40.0" prefWidth="460.0" promptText="SÃ©lectionnez l'Ã©quipe" style="-fx-font-size: 14px;">
                                    <items>
                                        <javafx.collections.FXCollections fx:factory="observableArrayList">
                                            <String fx:value="Ã‰quipe DÃ©veloppement Frontend" />
                                            <String fx:value="Ã‰quipe DÃ©veloppement Backend" />
                                            <String fx:value="Ã‰quipe DevOps" />
                                            <String fx:value="Ã‰quipe QA/Testing" />
                                            <String fx:value="Ã‰quipe Design UI/UX" />
                                        </javafx.collections.FXCollections>
                                    </items>
                                </ComboBox>
                            </children>
                        </VBox>

                        <HBox spacing="15.0">
                            <padding>
                                <Insets top="10.0" />
                            </padding>
                            <children>
                                <Button fx:id="createButton" onAction="#handleCreateProject" prefHeight="45.0" prefWidth="220.0" style="-fx-background-color: #2778e4; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-cursor: hand;" text="CrÃ©er le Projet" />
                                <Button fx:id="clearButton" onAction="#handleClearForm" prefHeight="45.0" prefWidth="220.0" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-cursor: hand;" text="Effacer" />
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <!-- list projets -->
                <VBox spacing="15.0" prefWidth="590.0" style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 12, 0, 0, 3);">
                    <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                    </padding>
                    <children>
                        <!-- actualisation -->
                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                            <children>
                                <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Liste des Projets" HBox.hgrow="ALWAYS">
                                    <font>
                                        <Font name="System Bold" size="24.0" />
                                    </font>
                                </Text>
                                <Button fx:id="refreshButton" onAction="#handleRefresh" prefHeight="35.0" prefWidth="100.0" style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" text="ðŸ”„ Actualiser" />
                            </children>
                        </HBox>

                        <!-- tableau d'affichage list projets-->
                        <TableView fx:id="projectsTable" prefHeight="510.0" prefWidth="530.0">
                            <columns>
                                <TableColumn fx:id="idColumn" prefWidth="50.0" text="ID" />
                                <TableColumn fx:id="titleColumn" prefWidth="180.0" text="Titre" />
                                <TableColumn fx:id="chefColumn" prefWidth="130.0" text="Chef de Projet" />
                                <TableColumn fx:id="equipeColumn" prefWidth="130.0" text="Ã‰quipe" />
                                <TableColumn fx:id="statusColumn" prefWidth="100.0" text="Statut" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>

                        <!-- bouttons -->
                        <HBox spacing="10.0">
                            <children>
                                <Button fx:id="viewButton" onAction="#handleViewProject" prefHeight="35.0" prefWidth="170.0" style="-fx-background-color: #2778e4; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" text="ðŸ‘ Voir DÃ©tails" />
                                <Button fx:id="editButton" onAction="#handleEditProject" prefHeight="35.0" prefWidth="170.0" style="-fx-background-color: #ff9800; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" text="âœ Modifier" />
                                <Button fx:id="deleteButton" onAction="#handleDeleteProject" prefHeight="35.0" prefWidth="170.0" style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" text="ðŸ—‘ Supprimer" />
                            </children>
                        </HBox>
                    </children>
                </VBox>
            </children>
        </HBox>
    </children>
</AnchorPane>